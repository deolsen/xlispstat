###############################################################################
###############################################################################
###                                                                         ###
###                         DO NOT EDIT THIS FILE                           ###
###                                                                         ###
###############################################################################
###############################################################################

XLSHOME = ../..

.SUFFIXES: .lsp .fsl

.lsp.fsl:
	echo "(compile-file \"$<\") (exit)" | ${XLSHOME}/xlisp

FSLFILES = init.fsl common.fsl common2.fsl common3.fsl help.fsl objects.fsl \
	linalg.fsl stats.fsl dialogs.fsl graphics.fsl graph2.fsl graph3.fsl \
	regress.fsl menus.fsl loadfsl.fsl conditns.fsl pathname.fsl \
	shlib.fsl cmpload.fsl

AUTOFSLFILES = oneway.fsl nonlin.fsl maximize.fsl bayes.fsl stepper.fsl \
	glim.fsl

CMPFSLFILES = compiler/backquot.fsl compiler/cmpmacro.fsl \
	compiler/convert.fsl compiler/cells.fsl compiler/simplify.fsl \
	compiler/lift.fsl compiler/gencode.fsl compiler/peephole.fsl \
	compiler/assemble.fsl compiler/cmpfront.fsl

xlisp.wks: ${XLSHOME}/xlisp ${CMPFSLFILES} ${FSLFILES} ${AUTOFSLFILES}
	rm -f xlisp.wks
	echo '(save-workspace "xlisp") (exit)' | ${XLSHOME}/xlisp
	cp ${AUTOFSLFILES} ${XLSHOME}/Autoload

clean:
	rm -f core *~ *.fsl compiler/*.fsl xlisp.wks

cleanall: clean
distclean: cleanall
